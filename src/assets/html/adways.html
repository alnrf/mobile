<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0">
    <style type="text/css">
      body {
        background-color: transparent;
        display: flex;
      }
    </style>
    <script type="text/javascript" src="//dj5ag5n6bpdxo.cloudfront.net/libs/interactive/loader.js"></script>
    <script type="text/javascript">
      const init = ({publicationId}) => {
        const experience = new adways.interactive.Experience();
        experience.setPublicationID(publicationId);
        experience.setPlayerAPI(document.getElementById('container'));
        experience.setPlayerClass('reactnativeadways');
        experience.load();
      };

      const handleMessage = ({data}) => {
        const {isFromReactNative, ...message} = JSON.parse(data);

        if (message.name === 'init') {
          return init(message.value);
        }

        if (isFromReactNative) {
          return;
        }

        window.ReactNativeWebView.postMessage(data);
      };

      window.addEventListener('message', handleMessage);
    </script>
  </head>
  <body id="container" />
</html>
